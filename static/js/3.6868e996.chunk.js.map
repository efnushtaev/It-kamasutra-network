{"version":3,"sources":["View/Styles/Elements/Forms/textarea.module.scss","View/hoc/AuthRedirect.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","View/Components/MainContent/Profile/ProfileInfo/ProfileInfo.module.css","View/Components/MainContent/Profile/Profile.module.css","View/Components/MainContent/Profile/MyPosts/MyPosts.module.css","View/Components/MainContent/Profile/MyPosts/Post/Post.jsx","View/Components/MainContent/Profile/MyPosts/MyPosts.jsx","View/Components/MainContent/Profile/MyPosts/MyPostsContainer.js","View/Components/MainContent/Profile/ProfileInfo/ProfileStatusWithHooks.js","View/Components/MainContent/Profile/ProfileInfo/ProfileInfo.jsx","View/Components/MainContent/Profile/Profile.jsx","View/Components/MainContent/Profile/ProfileContainer.js"],"names":["module","exports","mapStateToPropsForRedirect","state","isAuth","auth","WithAuthRedirect","Component","AuthRedirectComponent","this","props","to","React","connect","_slicedToArray","arr","i","Array","isArray","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","length","err","TypeError","Post","message","likesCount","maxLength15","maxLengthCreator","AddNewPostReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","placeholder","name","validate","required","MyPosts","memo","postElements","posts","map","p","className","classes","container","elFormsTextarea","values","addPost","newPostBody","profilePage","postsData","newPostText","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onChange","e","currentTarget","console","log","autoFocus","onBlur","updateStatus","onClick","ProfileInfo","profile","ava","src","photos","large","description","Preloader","Profile","MyPostsContainer","ProfileContainer","userId","match","params","getProfileThunk","getStatus","compose","authorisedUserId","withRouter"],"mappings":"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","file":"static/js/3.6868e996.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"textarea_container__2u4J2\"};","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth:state.auth.isAuth\r\n});\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n    class AuthRedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login'/>;\r\n            return <Component {...this.props} />\r\n\r\n        }\r\n    }\r\n    let ConnectedProfileContainerRedirect = connect(mapStateToPropsForRedirect)(AuthRedirectComponent);\r\n    \r\n    return ConnectedProfileContainerRedirect\r\n} ","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ProfileInfo_container__1vqU6\",\"ava\":\"ProfileInfo_ava__18aPO\",\"description\":\"ProfileInfo_description__m71ch\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Profile_container__1fRRf\",\"profile\":\"Profile_profile__3rnp-\",\"inner\":\"Profile_inner__GpHif\",\"ava\":\"Profile_ava__1-Ywv\",\"description\":\"Profile_description__1UuTu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MyPosts_container__1Hrm-\"};","import React from 'react';\r\n\r\nlet Post = (props) => {\r\n    return (\r\n        <div>\r\n            <div>\r\n                {props.message}\r\n            </div>\r\n            <div>\r\n                {props.likesCount}\r\n            </div>\r\n            <hr />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport Post from './Post/Post';\r\nimport classes from './MyPosts.module.css';\r\nimport elFormsTextarea from './../../../../Styles/Elements/Forms/textarea.module.scss';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport {required, maxLengthCreator} from './../../../../../utils/validations/'\r\nimport { Textarea } from '../../../Common/FormsControls';\r\nconst maxLength15 = maxLengthCreator(15)\r\nconst AddNewPostForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <Field  component={Textarea}\r\n                    placeholder=\"NEW POST...\"\r\n                    name=\"newPostBody\" \r\n                    validate={[required, maxLength15]}/>\r\n            <button>Add post</button>\r\n        </form>\r\n    )\r\n}\r\n const AddNewPostReduxForm = reduxForm({form:'postMessage'})(AddNewPostForm)\r\n\r\nconst MyPosts = React.memo(\r\n     props => {\r\n    \r\n        let onAddPost = (values) => {\r\n            props.addPost(values.newPostBody);\r\n        }\r\n    \r\n        let postElements = props.posts.map(p => <Post message={p.message} likesCount={p.likesCount} />)\r\n    \r\n        return (\r\n            <div className={classes.container}>\r\n                <div className={elFormsTextarea.container}>\r\n                    <AddNewPostReduxForm onSubmit={onAddPost}/>\r\n                </div>\r\n                <div>\r\n                    {postElements}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    )\r\n    \r\n\r\nexport default MyPosts;","import { addPost } from '../../../../../redux/reducer/profilePage-reducer';\r\nimport MyPosts from './MyPosts';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.postsData,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, { addPost } )(MyPosts)","import React, {useState, useEffect} from 'react';\r\nimport classes from './ProfileInfo.module.css';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status] )\r\n\r\n    let activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    let deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status);\r\n    }\r\n    let onUpdateStatus = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n        console.log(status)\r\n    }\r\n\r\n        return (\r\n            <div>\r\n                {!editMode\r\n                ? <div>\r\n                    <span onClick={()=> activateEditMode()}>{props.status === '' ? '-----' : props.status}</span>\r\n                </div>\r\n                : <div><input onChange={onUpdateStatus} autoFocus={true} onBlur={()=>{deactivateEditMode()}}value={status} /></div>\r\n                }\r\n            </div>\r\n        )\r\n    \r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport classes from './ProfileInfo.module.css';\r\nimport Preloader from '../../../Common/Preloader';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks'\r\n\r\nlet ProfileInfo = ({profile, status, updateStatus}) => {\r\n    if(!profile){\r\n        return (\r\n            <Preloader />\r\n        )\r\n    } \r\n    return (\r\n        <div className={classes.container}>\r\n            <div className={classes.ava}>\r\n                <img src={profile.photos.large \r\n                ? profile.photos.large \r\n                : 'https://windows10free.ru/uploads/posts/2017-04/1493287748_1487679899_icon-user-640x640.png'} />\r\n            </div>\r\n            <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n            <div className={classes.description}>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport classes from './Profile.module.css';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\n\r\nlet Profile = (props) => {\r\n    return (\r\n        <main className={classes.container}>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer />\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getProfileThunk, getStatus, updateStatus } from './../../../../redux/reducer/profilePage-reducer';\r\nimport Profile from './Profile';\r\nimport { withRouter, Redirect } from 'react-router-dom';\r\nimport { WithAuthRedirect } from '../../../hoc/AuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) { userId = 6063 \r\n            // if(!userId) {this.props.history.push('/login')}\r\n        };\r\n        this.props.getProfileThunk(userId);\r\n        this.props.getStatus(userId);   \r\n    }\r\n\r\n    render() {\r\n        return <Profile {...this.props} profile={this.props.profile}\r\n                                        status={this.props.status}\r\n                                        updateStatus={this.props.updateStatus}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    isAuth: state.auth.isAuth,\r\n    status: state.profilePage.status,\r\n    authorisedUserId: state.userId \r\n})\r\n\r\nexport default compose(connect(mapStateToProps, { getProfileThunk, getStatus, updateStatus }),withRouter, WithAuthRedirect)(ProfileContainer)\r\n  "],"sourceRoot":""}