(window["webpackJsonpdemo-react"]=window["webpackJsonpdemo-react"]||[]).push([[3],{287:function(e,t,a){"use strict";var n=a(92);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(c){r=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a.d(t,"a",(function(){return r}))},289:function(e,t,a){e.exports={container:"textarea_container__2u4J2"}},290:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(52),r=a(53),o=a(55),i=a(54),s=a(0),c=a.n(s),l=a(10),u=a(18),f=function(e){return{isAuth:e.auth.isAuth}},m=function(e){var t=function(t){Object(o.a)(s,t);var a=Object(i.a)(s);function s(){return Object(n.a)(this,s),a.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return this.props.isAuth?c.a.createElement(e,this.props):c.a.createElement(l.a,{to:"/login"})}}]),s}(c.a.Component);return Object(u.b)(f)(t)}},291:function(e,t,a){e.exports={container:"ProfileInfo_container__18PW1",ava:"ProfileInfo_ava__1_zUq",description:"ProfileInfo_description__3rKG5",descriptionEdit:"ProfileInfo_descriptionEdit__3e5VT",status:"ProfileInfo_status__1mluq",description__info:"ProfileInfo_description__info__Jy_oZ",description__infoContainer:"ProfileInfo_description__infoContainer__37puk",description__fullName:"ProfileInfo_description__fullName___1cbf",description__lookingForAJob:"ProfileInfo_description__lookingForAJob__34N2Y",description__contacts:"ProfileInfo_description__contacts__dZQps",description__contactsContainer:"ProfileInfo_description__contactsContainer__2Rq6J",description__contactTitle:"ProfileInfo_description__contactTitle__35BMI"}},292:function(e,t,a){e.exports={container:"Profile_container__1fRRf",profile:"Profile_profile__3rnp-",inner:"Profile_inner__GpHif",ava:"Profile_ava__1-Ywv",description:"Profile_description__1UuTu"}},293:function(e,t,a){e.exports={container:"Post_container__2F-S0",likeIcon:"Post_likeIcon__3Y938",likeIcon_active:"Post_likeIcon_active__1wkFb",trash:"Post_trash__21Nrw"}},294:function(e,t,a){e.exports=a.p+"static/media/like.7872115a.svg"},295:function(e,t,a){e.exports=a.p+"static/media/trash.1c76f488.svg"},296:function(e,t,a){e.exports=a.p+"static/media/like_active.1ca9fe48.svg"},297:function(e,t,a){e.exports={container:"MyPosts_container__1Hrm-"}},299:function(e,t,a){"use strict";a.r(t);var n=a(52),r=a(53),o=a(55),i=a(54),s=a(0),c=a.n(s),l=a(18),u=a(93),f=a(68),m=a(292),p=a.n(m),d=a(293),_=a.n(d),v=a(294),E=a.n(v),b=a(295),h=a.n(b),A=a(296),g=a.n(A),P=function(e){var t=e.profile;return c.a.createElement("div",{className:_.a.container},c.a.createElement("div",null,t?c.a.createElement("img",{src:t.photos.small}):"",c.a.createElement("span",null,t?t.fullName:""),c.a.createElement("span",null,"date"),c.a.createElement("img",{className:_.a.trash,src:h.a})),c.a.createElement("div",null,e.message),c.a.createElement("div",null,c.a.createElement("span",{className:e.isLiked?_.a.likeIcon_active:_.a.likeIcon},e.likesCount),c.a.createElement("img",{src:e.isLiked?g.a:E.a})))},O=a(297),k=a.n(O),j=a(289),w=a.n(j),y=a(86),I=a(125),N=a(45),S=a(24),C=Object(N.a)(15),B=Object(I.a)({form:"postMessage"})((function(e){return c.a.createElement("form",{onSubmit:function(){return e.handleSubmit(),void e.reset()}},c.a.createElement(y.a,{component:S.c,placeholder:"New post...",name:"newPostBody",validate:[N.b,C]}),c.a.createElement("button",null,"Add post"))})),T=c.a.memo((function(e){var t=e.posts.map((function(t){return c.a.createElement(P,{message:t.message,likesCount:t.likesCount,profile:e.profile,isLiked:t.isLiked})}));return c.a.createElement("div",{className:k.a.container},c.a.createElement("div",{className:w.a.container},c.a.createElement(B,{onSubmit:function(t){e.addPost(t.newPostBody)}})),c.a.createElement("div",null,t))})),J=Object(l.b)((function(e){return{posts:e.profilePage.postsData,newPostBody:e.profilePage.newPostBody,profile:e.profilePage.profile}}),{addPost:u.a})(T),F=a(287),R=a(291),Q=a.n(R),x=a(85),M=function(e){var t=Object(s.useState)(!1),a=Object(F.a)(t,2),n=a[0],r=a[1],o=Object(s.useState)(e.status),i=Object(F.a)(o,2),l=i[0],u=i[1];Object(s.useEffect)((function(){u(e.status)}),[e.status]);return c.a.createElement("div",null,n?c.a.createElement("div",null,c.a.createElement("input",{onChange:function(e){u(e.currentTarget.value),console.log(l)},autoFocus:!0,onBlur:function(){r(!1),e.updateStatus(l)},value:l})):c.a.createElement("div",{className:Q.a.status},c.a.createElement("span",{onClick:function(){r(!0)}},""===e.status?"-----":e.status)))},U=a(37),D=a.n(U),Y=Object(I.a)({form:"edit-profile"})((function(e){var t=e.profile,a=e.handleSubmit,n=e.error;return c.a.createElement("form",{className:Q.a.descriptionEdit,onSubmit:a},c.a.createElement("div",null,c.a.createElement("span",null,"Profile information editor"),c.a.createElement("button",null,"save")),n&&c.a.createElement("div",{className:D.a.formError},n),c.a.createElement("div",null,c.a.createElement("b",null,"Full name"),": ",Object(S.a)("fullName","Full Name",S.b)),c.a.createElement("div",null,c.a.createElement("b",null,"Looking for a job"),": ",Object(S.a)("lookingForAJob","",S.b,[],{type:"checkbox"})),c.a.createElement("div",null,c.a.createElement("b",null,"Mt professional skills"),": ",Object(S.a)("lookingForAJobDescription","Some my skills",S.c)),c.a.createElement("div",null,c.a.createElement("b",null,"About me"),": ",Object(S.a)("aboutMe","About me",S.c)),c.a.createElement("div",null,Object.keys(t.contacts).map((function(e){return c.a.createElement("div",{key:e},e,":",Object(S.a)("contacts.".concat(e),"".concat(e),S.b))}))))})),H=function(e){var t=e.profile,a=e.status,n=e.updateStatus,r=e.isOwner,o=e.saveProfile,i=Object(f.a)(e,["profile","status","updateStatus","isOwner","saveProfile"]),l=Object(s.useState)(!1),u=Object(F.a)(l,2),m=u[0],p=u[1];if(!t)return c.a.createElement(x.a,null);var d=function(e){var t=e.profile,r=e.isOwner,o=e.onEditMode;return c.a.createElement("div",{className:Q.a.description},c.a.createElement(M,{status:a,updateStatus:n}),c.a.createElement("div",{className:Q.a.description__info},c.a.createElement("div",{className:Q.a.description__infoButton},r&&c.a.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAXCAYAAAARIY8tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFCSURBVHgB5ZXhbcIwEIUviAEyQroB3SBM0HqCphN0hIQJSjdoJ4gzQRmBDcgG7QRJ31POkkEusiP4A0867Bjne7bvrIhcWZlcSF3XvYzjWCFejTH9RQ0AfwN4i+4vA/21MzkyaNs2R5PHQB0A8BrAJsuy7TAMG7TfZDiThQcv8OchJjC98uHoWh4P2gKtYYt5NecsvUWV6vwgEat3cMQGzw0WWOnqewbHTw2Otn5OHpwJ/dThnUw5yP0cLCRRIbgeL1cvPjzZIBVOLRPg71rnYBgbgofei9oBQI3C1wE46/6RY84s2QAvPgHyBfg+AKcpk1siimQDvXwrmaqEz2UA/q9idrDSXdTW2h9X6zFwKibJex6PTDX+gdjF3JVoA11lJTOVfNHuz8DPQc8fVMpB5il3DF+nH5xn0bKcKesu4+3oDwzz9f/YCsOcAAAAAElFTkSuQmCC",onClick:o})),c.a.createElement("div",{className:Q.a.description__infoContainer},c.a.createElement("div",{className:Q.a.description__fullName},t.fullName),c.a.createElement("div",{className:Q.a.description__lookingForAJob},t.lookingForAJob?"Looking for a job":""," "),c.a.createElement("div",null,c.a.createElement("small",null,c.a.createElement("i",null,"Professional skills")),":\u2002",t.lookingForAJobDescription),c.a.createElement("div",null,c.a.createElement("small",null,c.a.createElement("i",null,"About me")),":\u2002",t.aboutMe),c.a.createElement("div",{className:Q.a.description__contacts},c.a.createElement("div",null,c.a.createElement("small",null,c.a.createElement("i",null,"Contacts:"))),c.a.createElement("div",{className:Q.a.description__contactsContainer},Object.keys(t.contacts).map((function(e){return c.a.createElement(_,{key:e,contactTitle:e,contactValue:t.contacts[e]})})))))))},_=function(e){var t=e.contactTitle,a=e.contactValue;return a?c.a.createElement("div",null,c.a.createElement("span",{className:Q.a.description__contactTitle},c.a.createElement("small",null,t,":\u2002")),a):null};return c.a.createElement("div",{className:Q.a.container},c.a.createElement("div",{className:Q.a.ava},c.a.createElement("img",{src:t.photos.large?t.photos.large:"https://windows10free.ru/uploads/posts/2017-04/1493287748_1487679899_icon-user-640x640.png"}),r&&c.a.createElement("label",{for:"ava"},c.a.createElement("input",{id:"ava",type:"file",onChange:function(e){e.target.files.length&&i.savePhoto(e.target.files[0])}}))),m?c.a.createElement(Y,{initialValues:t,onSubmit:function(e){o(e).then((function(){p(!1)}))},profile:t}):c.a.createElement(d,{isOwner:r,profile:t,onEditMode:function(){return p(!0)}}))},z=function(e){var t=e.isOwner,a=e.profile,n=e.status,r=e.updateStatus,o=e.saveProfile,i=Object(f.a)(e,["isOwner","profile","status","updateStatus","saveProfile"]);return c.a.createElement("main",{className:p.a.container},c.a.createElement(H,Object.assign({isOwner:t,profile:a,status:n,updateStatus:r,saveProfile:o},i)),c.a.createElement(J,null))},V=a(10),L=a(290),X=a(8),W=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"profileRefresh",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorisedUserId)||this.props.history.push("/login"),this.props.getProfileThunk(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.profileRefresh()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!=e.match.params.userId&&this.profileRefresh()}},{key:"render",value:function(){return c.a.createElement(z,Object.assign({},this.props,{saveProfile:this.props.saveProfile,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId}))}}]),a}(c.a.Component);t.default=Object(X.d)(Object(l.b)((function(e){return{profile:e.profilePage.profile,isAuth:e.auth.isAuth,status:e.profilePage.status,authorisedUserId:e.auth.userId}}),{getProfileThunk:u.c,getStatus:u.d,updateStatus:u.g,savePhoto:u.e,saveProfile:u.f}),V.g,L.a)(W)}}]);
//# sourceMappingURL=3.d87fb202.chunk.js.map