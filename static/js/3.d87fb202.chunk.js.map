{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","View/Styles/Elements/Forms/textarea.module.scss","View/hoc/AuthRedirect.js","View/Components/MainContent/Profile/ProfileInfo/ProfileInfo.module.scss","View/Components/MainContent/Profile/Profile.module.css","View/Components/MainContent/Profile/MyPosts/Post/Post.module.scss","View/Images/like.svg","View/Images/trash.svg","View/Images/like_active.svg","View/Components/MainContent/Profile/MyPosts/MyPosts.module.css","View/Components/MainContent/Profile/MyPosts/Post/Post.jsx","View/Components/MainContent/Profile/MyPosts/MyPosts.jsx","View/Components/MainContent/Profile/MyPosts/MyPostsContainer.js","View/Components/MainContent/Profile/ProfileInfo/ProfileStatusWithHooks.js","View/Components/MainContent/Profile/ProfileInfo/ProfileInfoDescriptionForm.js","View/Components/MainContent/Profile/ProfileInfo/ProfileInfo.jsx","View/Components/MainContent/Profile/Profile.jsx","View/Components/MainContent/Profile/ProfileContainer.js"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","mapStateToPropsForRedirect","state","isAuth","auth","WithAuthRedirect","Component","AuthRedirectComponent","this","props","to","React","connect","Post","profile","className","styles","container","src","photos","small","fullName","trash","message","isLiked","likeIcon_active","likeIcon","likesCount","likeActive","like","maxLength15","maxLengthCreator","AddNewPostReduxForm","reduxForm","form","onSubmit","handleSubmit","reset","Field","component","Textarea","placeholder","name","validate","required","MyPosts","memo","postElements","posts","map","p","classes","elFormsTextarea","values","addPost","newPostBody","profilePage","postsData","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onChange","e","currentTarget","console","log","autoFocus","onBlur","updateStatus","onClick","ProfileInfoDescriptionReduxForm","error","descriptionEdit","style","formError","CreateField","Input","type","keys","contacts","key","ProfileInfo","isOwner","saveProfile","Preloader","ProfileInfoDescription","onEditMode","description","description__info","description__infoButton","description__infoContainer","description__fullName","description__lookingForAJob","lookingForAJob","lookingForAJobDescription","aboutMe","description__contacts","description__contactsContainer","Contacts","contactTitle","contactValue","description__contactTitle","ava","large","for","id","target","files","savePhoto","initialValues","formData","then","Profile","MyPostsContainer","ProfileContainer","userId","match","params","authorisedUserId","history","getProfileThunk","getStatus","profileRefresh","prevProps","prevState","compose","withRouter"],"mappings":"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","file":"static/js/3.d87fb202.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"textarea_container__2u4J2\"};","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth:state.auth.isAuth\r\n});\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n    class AuthRedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login'/>;\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    let ConnectedProfileContainerRedirect = connect(mapStateToPropsForRedirect)(AuthRedirectComponent);\r\n    \r\n    return ConnectedProfileContainerRedirect\r\n} ","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ProfileInfo_container__18PW1\",\"ava\":\"ProfileInfo_ava__1_zUq\",\"description\":\"ProfileInfo_description__3rKG5\",\"descriptionEdit\":\"ProfileInfo_descriptionEdit__3e5VT\",\"status\":\"ProfileInfo_status__1mluq\",\"description__info\":\"ProfileInfo_description__info__Jy_oZ\",\"description__infoContainer\":\"ProfileInfo_description__infoContainer__37puk\",\"description__fullName\":\"ProfileInfo_description__fullName___1cbf\",\"description__lookingForAJob\":\"ProfileInfo_description__lookingForAJob__34N2Y\",\"description__contacts\":\"ProfileInfo_description__contacts__dZQps\",\"description__contactsContainer\":\"ProfileInfo_description__contactsContainer__2Rq6J\",\"description__contactTitle\":\"ProfileInfo_description__contactTitle__35BMI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Profile_container__1fRRf\",\"profile\":\"Profile_profile__3rnp-\",\"inner\":\"Profile_inner__GpHif\",\"ava\":\"Profile_ava__1-Ywv\",\"description\":\"Profile_description__1UuTu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Post_container__2F-S0\",\"likeIcon\":\"Post_likeIcon__3Y938\",\"likeIcon_active\":\"Post_likeIcon_active__1wkFb\",\"trash\":\"Post_trash__21Nrw\"};","module.exports = __webpack_public_path__ + \"static/media/like.7872115a.svg\";","module.exports = __webpack_public_path__ + \"static/media/trash.1c76f488.svg\";","module.exports = __webpack_public_path__ + \"static/media/like_active.1ca9fe48.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MyPosts_container__1Hrm-\"};","import React from 'react';\r\nimport styles from './Post.module.scss';\r\nimport like from \"../../../../../Images/like.svg\";\r\nimport trash from \"../../../../../Images/trash.svg\";\r\nimport likeActive from \"../../../../../Images/like_active.svg\";\r\n\r\nlet Post = (props) => {\r\n    const {profile} = props\r\n    return (\r\n        <div className={styles.container}>\r\n            <div>\r\n            {profile ? <img src={profile.photos.small}/> : ''}\r\n            <span>{profile ? profile.fullName : ''}</span>\r\n            <span>date</span>\r\n            <img className={styles.trash} src={trash}/>\r\n            </div>\r\n            <div>\r\n                {props.message}\r\n            </div>\r\n            <div>\r\n                <span className={props.isLiked ? styles.likeIcon_active : styles.likeIcon}>{props.likesCount}</span><img src={props.isLiked ? likeActive : like}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport Post from './Post/Post';\r\nimport classes from './MyPosts.module.css';\r\nimport elFormsTextarea from './../../../../Styles/Elements/Forms/textarea.module.scss';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport {required, maxLengthCreator} from './../../../../../utils/validations/'\r\nimport { Textarea } from '../../../Common/FormsControls';\r\nconst maxLength15 = maxLengthCreator(15)\r\nconst AddNewPostForm = (props) => {\r\n    const handleSubmit = () => {\r\n        props.handleSubmit();\r\n        props.reset();\r\n    }\r\n    return (\r\n        <form onSubmit={() => handleSubmit()}>\r\n            <Field  component={Textarea}\r\n                    placeholder=\"New post...\"\r\n                    name=\"newPostBody\"\r\n                    validate={[required, maxLength15]}/>\r\n            <button>Add post</button>\r\n        </form>\r\n    )\r\n}\r\n const AddNewPostReduxForm = reduxForm({form:'postMessage'})(AddNewPostForm)\r\n\r\nconst MyPosts = React.memo(\r\n    props => {\r\n        let onAddPost = (values) => {\r\n            props.addPost(values.newPostBody);\r\n        }\r\n    \r\n        let postElements = props.posts.map(p => <Post\r\n            message={p.message} \r\n            likesCount={p.likesCount} \r\n            profile={props.profile}\r\n            isLiked={p.isLiked}/>)\r\n    \r\n        return (\r\n            <div className={classes.container}>\r\n                <div className={elFormsTextarea.container}>\r\n                    <AddNewPostReduxForm onSubmit={onAddPost}/>\r\n                </div>\r\n                <div>\r\n                    {postElements}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    )\r\n    \r\n\r\nexport default MyPosts;","import { addPost } from '../../../../../redux/reducer/profilePage-reducer';\r\nimport MyPosts from './MyPosts';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.postsData,\r\n        newPostBody: state.profilePage.newPostBody,\r\n        profile: state.profilePage.profile\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, { addPost } )(MyPosts)","import React, {useState, useEffect} from 'react';\r\nimport styles from './ProfileInfo.module.scss';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status] )\r\n\r\n    let activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    let deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status);\r\n    }\r\n    let onUpdateStatus = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n        console.log(status)\r\n    }\r\n\r\n        return (\r\n            <div>\r\n                {!editMode\r\n                    ? <div className={styles.status}><span onClick={()=> activateEditMode()}>{props.status === '' ? '-----' : props.status}</span></div>\r\n                    : <div><input onChange={onUpdateStatus} autoFocus={true} onBlur={()=>{deactivateEditMode()}}value={status} /></div>\r\n                }\r\n            </div>\r\n        )\r\n    \r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport classes from './ProfileInfo.module.scss';\r\nimport {CreateField, Input, Textarea} from './../../../Common/FormsControls/index'\r\nimport style from './../../../Common/FormsControls/style.module.scss'\r\nimport { reduxForm } from 'redux-form';\r\n\r\nconst ProfileInfoDescriptionForm = ({profile,handleSubmit,error}) => {\r\n    return (\r\n        <form className={classes.descriptionEdit} onSubmit={handleSubmit}>\r\n        <div><span>Profile information editor</span><button>save</button></div>\r\n        {error && <div className={style.formError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <b>Full name</b>: {CreateField('fullName','Full Name', Input )}\r\n            </div>\r\n            <div>\r\n                <b>Looking for a job</b>: {CreateField('lookingForAJob', '', Input, [], {type: \"checkbox\"})}\r\n            </div>\r\n            <div>\r\n                <b>Mt professional skills</b>: {CreateField('lookingForAJobDescription','Some my skills', Textarea)}\r\n            </div>\r\n            <div>\r\n                <b>About me</b>: {CreateField('aboutMe','About me', Textarea)}\r\n            </div>\r\n            <div>\r\n                {Object.keys(profile.contacts).map(key => <div key={key}>{key}:{CreateField(`contacts.${key}`, `${key}`, Input )}</div>)}\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst ProfileInfoDescriptionReduxForm = reduxForm({form:'edit-profile'})(ProfileInfoDescriptionForm)\r\n\r\nexport default ProfileInfoDescriptionReduxForm","import React, {useState} from 'react';\r\nimport styles from './ProfileInfo.module.scss';\r\nimport Preloader from '../../../Common/Preloader';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\nimport ProfileInfoDescriptionForm from './ProfileInfoDescriptionForm';\r\n\r\nlet ProfileInfo = ({profile, status, updateStatus, isOwner, saveProfile, ...props}) => {\r\n    const [editMode, setEditMode] = useState(false)\r\n    if(!profile){\r\n        return (\r\n            <Preloader />\r\n        )\r\n    } \r\n    const onSubmit = (formData) => {\r\n        saveProfile(formData).then(() => {\r\n            setEditMode(false)\r\n        })\r\n    }\r\n\r\n    \r\n    const onMainPhotoSelected = (e) => {\r\n        e.target.files.length && props.savePhoto(e.target.files[0])\r\n    }\r\n\r\n    const ProfileInfoDescription = ({profile, isOwner, onEditMode}) => {\r\n        return (\r\n            <div className={styles.description}>\r\n                <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n                <div className={styles.description__info}>\r\n                    <div className={styles.description__infoButton}>\r\n                        {isOwner \r\n                            && <img \r\n                                src={'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAXCAYAAAARIY8tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFCSURBVHgB5ZXhbcIwEIUviAEyQroB3SBM0HqCphN0hIQJSjdoJ4gzQRmBDcgG7QRJ31POkkEusiP4A0867Bjne7bvrIhcWZlcSF3XvYzjWCFejTH9RQ0AfwN4i+4vA/21MzkyaNs2R5PHQB0A8BrAJsuy7TAMG7TfZDiThQcv8OchJjC98uHoWh4P2gKtYYt5NecsvUWV6vwgEat3cMQGzw0WWOnqewbHTw2Otn5OHpwJ/dThnUw5yP0cLCRRIbgeL1cvPjzZIBVOLRPg71rnYBgbgofei9oBQI3C1wE46/6RY84s2QAvPgHyBfg+AKcpk1siimQDvXwrmaqEz2UA/q9idrDSXdTW2h9X6zFwKibJex6PTDX+gdjF3JVoA11lJTOVfNHuz8DPQc8fVMpB5il3DF+nH5xn0bKcKesu4+3oDwzz9f/YCsOcAAAAAElFTkSuQmCC'} \r\n                                onClick={onEditMode}\r\n                            />\r\n                        }\r\n                    </div>\r\n                    <div className={styles.description__infoContainer}>\r\n                        <div className={styles.description__fullName}>{profile.fullName}</div>\r\n                        <div className={styles.description__lookingForAJob}>{profile.lookingForAJob ? 'Looking for a job' : ''} </div>\r\n                        <div><small><i>Professional skills</i></small>:&ensp;{profile.lookingForAJobDescription}</div>\r\n                        <div><small><i>About me</i></small>:&ensp;{profile.aboutMe}</div>\r\n                        <div className={styles.description__contacts}>\r\n                            <div><small><i>Contacts:</i></small></div>\r\n                            <div className={styles.description__contactsContainer}>\r\n                                {Object.keys(profile.contacts).map(key => <Contacts key={key} contactTitle={key} contactValue={profile.contacts[key]}/>)}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    \r\n        const Contacts = ({contactTitle, contactValue}) => {\r\n            return contactValue \r\n                ? <div><span className={styles.description__contactTitle}><small>{contactTitle}:&ensp;</small></span>{contactValue}</div>\r\n                : null\r\n        }\r\n        \r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.ava}>\r\n                <img src={profile.photos.large \r\n                ? profile.photos.large \r\n                : 'https://windows10free.ru/uploads/posts/2017-04/1493287748_1487679899_icon-user-640x640.png'} />\r\n                {isOwner && <label for='ava'><input id='ava' type={\"file\"} onChange={onMainPhotoSelected}/></label>}\r\n            </div>\r\n\r\n            {/* <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/> */}\r\n\r\n            { editMode ? \r\n                <ProfileInfoDescriptionForm initialValues={profile} onSubmit={onSubmit} profile={profile} /> : \r\n                <ProfileInfoDescription isOwner={isOwner} profile={profile} onEditMode={() => setEditMode(true)} />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport classes from './Profile.module.css';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\n\r\nlet Profile = ({isOwner,profile,status,updateStatus,saveProfile,...props}) => {\r\n    return (\r\n        <main className={classes.container}>\r\n            <ProfileInfo    \r\n                isOwner={isOwner}\r\n                profile={profile} \r\n                status={status} \r\n                updateStatus={updateStatus}\r\n                saveProfile={saveProfile}\r\n                {...props} />\r\n            <MyPostsContainer />\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getProfileThunk, getStatus, updateStatus, savePhoto, saveProfile } from './../../../../redux/reducer/profilePage-reducer';\r\nimport Profile from './Profile';\r\nimport { withRouter, Redirect } from 'react-router-dom';\r\nimport { WithAuthRedirect } from '../../../hoc/AuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n    profileRefresh(){\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorisedUserId\r\n            // userId = 6063 \r\n            if(!userId) {this.props.history.push('/login')}\r\n        };\r\n        this.props.getProfileThunk(userId);\r\n        this.props.getStatus(userId);   \r\n    }\r\n\r\n    componentDidMount() { this.profileRefresh()}\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        this.props.match.params.userId != prevProps.match.params.userId && this.profileRefresh()\r\n    }\r\n\r\n    render() {\r\n        return <Profile \r\n                    {...this.props} \r\n                    saveProfile={this.props.saveProfile}\r\n                    profile={this.props.profile}\r\n                    status={this.props.status}\r\n                    updateStatus={this.props.updateStatus}\r\n                    isOwner={!this.props.match.params.userId}\r\n                />\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    isAuth: state.auth.isAuth,\r\n    status: state.profilePage.status,\r\n    authorisedUserId: state.auth.userId \r\n})\r\n\r\nexport default compose(connect(mapStateToProps, { getProfileThunk, getStatus, updateStatus, savePhoto, saveProfile }),withRouter, WithAuthRedirect)(ProfileContainer)\r\n  "],"sourceRoot":""}