(window["webpackJsonpdemo-react"]=window["webpackJsonpdemo-react"]||[]).push([[0],{128:function(e,t,n){"use strict";var r=n(8),a=n.n(r),o=n(13),c=n(25),u=n(17),i=n(9);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var l=function(e,t,n,r){return e.map(function(e){return e[n]===t?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{},r):e})};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,"d",function(){return h}),n.d(t,"c",function(){return v}),n.d(t,"b",function(){return y}),n.d(t,"e",function(){return w});var d={users:[],pagesSize:50,totalUsersCount:0,currentPage:1,isFetching:!0,followingProgress:[]},m=function(e){return{type:"FOLLOW",id:e}},b=function(e){return{type:"UNFOLLOW",id:e}},h=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},g=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},O=function(e,t){return{type:"TOOGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userid:t}},v=function(e,t){return function(n){n(g(!0)),n(h(e)),i.d.getUsers(e,t).then(function(e){n(g(!1)),n({type:"SET_USERS",users:e.items}),n({type:"SET_TOTAL_USER_COUNT",totalUsersCount:e.totalCount})})}},E=function(){var e=Object(o.a)(a.a.mark(function e(t,n,r,o){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(O(!0,n)),e.next=3,r(n);case 3:0===e.sent.data.resultCode&&t(o(n)),t(O(!1,n));case 6:case"end":return e.stop()}},e)}));return function(t,n,r,a){return e.apply(this,arguments)}}(),y=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:E(n,e,i.d.followUser.bind(i.d),m);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:E(n,e,i.d.unfollowUser.bind(i.d),b);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return p({},e,{users:l(e.users,t.user,"id",{followed:!0})});case"UNFOLLOW":return p({},e,{users:l(e.users,t.user,"id",{followed:!1})});case"SET_USERS":return p({},e,{users:Object(c.a)(t.users)});case"SET_CURRENT_PAGE":return p({},e,{currentPage:t.currentPage});case"SET_TOTAL_USER_COUNT":return p({},e,{totalUsersCount:t.totalUsersCount});case"TOGGLE_IS_FETCHING":return p({},e,{isFetching:t.isFetching});case"TOOGLE_IS_FOLLOWING_PROGRESS":return p({},e,{followingProgress:t.isFetching?[].concat(Object(c.a)(e.followingProgress),[t.userid]):Object(c.a)(e.followingProgress.filter(function(e){return e!=t.userid}))});default:return e}}},133:function(e,t){e.exports="data:image/png;base64,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"},160:function(e,t,n){e.exports=n(288)},24:function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return p});var r=n(68),a=n(0),o=n.n(a),c=n(36),u=n.n(c),i=n(87),s=function(e){var t=e.meta,n=t.touched,r=t.error,a=t.active,c=(e.input.onBlur,e.children),i=n&&a&&r;return o.a.createElement("div",{className:i?u.a.error+" "+u.a.formControl:u.a.formControl},c,i?o.a.createElement("span",null,r):null)},l=function(e){var t=e.input,n=(e.meta,e.children,Object(r.a)(e,["input","meta","children"]));return o.a.createElement(s,e,o.a.createElement("textarea",Object.assign({},t,n)))},f=function(e){var t=e.input,n=(e.meta,e.children,Object(r.a)(e,["input","meta","children"]));return o.a.createElement(s,e,o.a.createElement("input",Object.assign({},t,n)))},p=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return o.a.createElement("div",null,o.a.createElement(i.a,Object.assign({name:e,placeholder:t,component:n,validators:r},a)),c)}},243:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){},288:function(e,t,n){"use strict";n.r(t);var r=n(7),a=n(95),o=n(94),c=n(128),u=n(8),i=n.n(u),s=n(13),l=n(17),f=n(9),p=n(27);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b="auth-reducer/SET_USER_DATA",h={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},g=function(e,t,n,r){return{type:b,payload:{userId:e,email:t,login:n,isAuth:r}}},O=function(e){return{type:"auth-reducer/GET_CAPTCHA_URL_SUCCESSED",payload:{captchaUrl:e}}},v=function(){return function(e){return f.a.me().then(function(t){if(0===t.resultCode){var n=t.data,r=n.id,a=n.email,o=n.login;e(g(r,a,o,!0))}})}},E=function(){return function(){var e=Object(s.a)(i.a.mark(function e(t){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.c.getCaptchaUrl();case 2:n=e.sent,r=n.url,t(O(r));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:case"auth-reducer/GET_CAPTCHA_URL_SUCCESSED":return m({},e,{},t.payload);default:return e}},w=n(130),j=n(127);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S={initialized:!1},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app-reducer/INITIALIZED_SUCCESS":return P({},e,{initialized:!0});default:return e}},_=Object(r.c)({dialogPage:a.a,profilePage:o.b,usersPage:c.a,auth:y,app:C,form:j.a}),T=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.d,D=Object(r.e)(_,T(Object(r.a)(w.a)));window.store=D;var k=D;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=n(0),x=n.n(U),I=n(63),N=n.n(I),G=(n(243),n(50)),L=n(51),F=n(53),R=n(52),z=n(54),B=n(40),H=n.n(B),X=n(133),M=n.n(X),J=n(20),q=function(e){var t=e.login,n=e.logout,r=e.isAuth,a=e.avatar;return x.a.createElement("header",{className:H.a.header},x.a.createElement("img",{className:H.a.logo,alt:"logo",src:M.a}),x.a.createElement("div",{className:H.a.login},r?x.a.createElement("div",null,x.a.createElement("span",{className:H.a.login__login},t),0==a?x.a.createElement("img",{src:"https://windows10free.ru/uploads/posts/2017-04/1493287748_1487679899_icon-user-640x640.png"}):x.a.createElement("img",{src:a}),x.a.createElement("span",{className:H.a.login__button,onClick:n},"logout")):x.a.createElement(J.b,{to:"/login"},"Login")))},Q=n(16),W=function(e){function t(){return Object(G.a)(this,t),Object(F.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){return x.a.createElement(q,Object.assign({},this.props,{logout:this.props.logout}))}}]),t}(x.a.Component),Z=Object(Q.b)(function(e){return{avatar:null==e.profilePage.profile||null==e.profilePage.profile.photos.small?"https://windows10free.ru/uploads/posts/2017-04/1493287748_1487679899_icon-user-640x640.png":e.profilePage.profile.photos.small,isAuth:e.auth.isAuth,login:e.auth.login}},{logout:function(){return function(){var e=Object(s.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.logout();case 2:0===e.sent.resultCode&&t(g(null,null,null,!1));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(W),K=n(31),Y=n.n(K),V=function(){return x.a.createElement("nav",{className:Y.a.navigation},x.a.createElement("div",{className:Y.a.item},x.a.createElement(J.b,{activeClassName:Y.a.active,to:"/profile"},"Profile")),x.a.createElement("div",{className:Y.a.item},x.a.createElement(J.b,{activeClassName:Y.a.active,to:"/dialogs"},"Messages")),x.a.createElement("div",{className:Y.a.item},x.a.createElement(J.b,{activeClassName:Y.a.active,to:"/users"},"Users")))},$=n(126),ee=n(30),te=n(36),ne=n.n(te),re=n(24),ae=n(44),oe=Object($.a)({form:"login"})(function(e){var t=e.handleSubmit,n=e.error,r=e.captchaUrl;return x.a.createElement("form",{onSubmit:t},Object(re.a)("email","Email",re.b,[ae.b]),Object(re.a)("password","Password",re.b,[ae.b]),Object(re.a)("rememberMe",null,re.b,[ae.b],{type:"checkbox"},"remember me"),r&&x.a.createElement("img",{src:r}),r&&Object(re.a)("captcha","Symbols from image",re.b,[ae.b]),n&&x.a.createElement("div",{className:ne.a.formError},n),x.a.createElement("div",null,x.a.createElement("button",null,"Login")))}),ce=Object(Q.b)(function(e){return{captchaUrl:e.auth.captchaUrl,isAuth:e.auth.isAuth}},{login:function(e,t,n,r){return function(){var a=Object(s.a)(i.a.mark(function a(o){var c,u;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.login(e,t,n,r);case 2:0===(c=a.sent).resultCode?o(v()):(10===c.resultCode&&o(E()),u=c.messages.length>0?c.messages:"Other error",o(Object(p.a)("login",{_error:u})));case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}})(function(e){return e.isAuth?x.a.createElement(ee.a,{to:"/profile"}):x.a.createElement("div",null,x.a.createElement("h3",null,"Login"),x.a.createElement(oe,{captchaUrl:e.captchaUrl,onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)}}))}),ue=(n(286),n(287),n(85)),ie=x.a.lazy(function(){return n.e(4).then(n.bind(null,299))}),se=x.a.lazy(function(){return n.e(3).then(n.bind(null,297))}),le=x.a.lazy(function(){return n.e(5).then(n.bind(null,298))}),fe=function(e){function t(){var e,n;Object(G.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(F.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(a)))).catchAllErrors=function(e){alert("some error occured"),console.error(e)},n}return Object(z.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllErrors)}},{key:"render",value:function(){return this.props.initialized?x.a.createElement("div",{className:"app-wrapper"},x.a.createElement(x.a.Suspense,{fallback:x.a.createElement(ue.a,null)},x.a.createElement(Z,null),x.a.createElement(V,null),x.a.createElement("div",{className:"app-wrapper-content"},x.a.createElement(ee.d,null,x.a.createElement(ee.b,{path:"/dialogs",render:function(){return x.a.createElement(ie,null)}}),x.a.createElement(ee.b,{path:"/profile/:userId?",render:function(){return x.a.createElement(se,null)}}),x.a.createElement(ee.b,{path:"/users",render:function(){return x.a.createElement(le,null)}}),x.a.createElement(ee.b,{path:"/login",render:function(){return x.a.createElement(ce,null)}}),x.a.createElement(ee.a,{from:"/",to:"/profile"}),x.a.createElement(ee.b,{path:"*",render:function(){return x.a.createElement("h1",null,"404")}}))))):x.a.createElement(ue.a,null)}}]),t}(x.a.Component),pe=Object(r.d)(Object(Q.b)(function(e){return{initialized:e.app.initialized}},{initializeApp:function(){return function(e){var t=e(v());Promise.all([t]).then(function(){e({type:"app-reducer/INITIALIZED_SUCCESS"})})}}}),ee.g)(fe);N.a.render(x.a.createElement(J.a,null,x.a.createElement(Q.a,{store:k},x.a.createElement(pe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},31:function(e,t,n){e.exports={item:"Sidebar_item__2eO48",navigation:"Sidebar_navigation__3nCdB"}},36:function(e,t,n){e.exports={formControl:"style_formControl__3z_v2",error:"style_error__3tdtG",formError:"style_formError__1-4s4"}},40:function(e,t,n){e.exports={header:"Header_header__vgdu5",logo:"Header_logo__1yjz9",login:"Header_login__3NIys",login__button:"Header_login__button__7YedG",login__login:"Header_login__login__GERFl"}},44:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r=function(e){return e?void 0:"field is required"},a=function(e){return function(t){return t.length>e?"Max length is ".concat(e," symbols"):void 0}}},85:function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(){return a.a.createElement("img",{src:"https://www.gicededu.co.in/img/loader.gif"})}},9:function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return i});var r=n(129),a=r.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"49f0f488-a7d4-45c3-bccf-218f44a4ebab"}}),o={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return a.get("users?page=".concat(e,"&count=").concat(t)).then(function(e){return e.data})},unfollowUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return a.delete("follow/".concat(e),{})},followUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return a.post("follow/".concat(e),{})}},c={setProfile:function(e){return a.get("profile/".concat(e)).then(function(e){return e.data})},setStatus:function(e){return a.get("profile/status/".concat(e)).then(function(e){return e.data})},updateStatus:function(e){return a.put("profile/status",{status:e}).then(function(e){return e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),a.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e})},saveProfile:function(e){return a.put("profile",e).then(function(e){return e})}},u={me:function(){return a.get("auth/me").then(function(e){return e.data})},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return a.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then(function(e){return e.data})},logout:function(){return a.delete("auth/login").then(function(e){return e.data})}},i={getCaptchaUrl:function(){return a.get("security/get-captcha-url").then(function(e){return e.data})}}},94:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"d",function(){return b}),n.d(t,"g",function(){return h}),n.d(t,"c",function(){return g}),n.d(t,"e",function(){return O}),n.d(t,"f",function(){return v});var r=n(8),a=n.n(r),o=n(13),c=n(17),u=n(25),i=n(9),s=n(27);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p={postsData:[{id:1,message:"Hi! this is a first post",likesCount:"23"},{id:2,message:"And this is a second one",likesCount:"11"}],newPostText:"",profile:null,status:""},d=function(e){return{type:"ADD_POST",text:e}},m=function(e){return{type:"SET_STATUS",status:e}},b=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.setStatus(e);case 2:r=t.sent,n(m(r));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.b.updateStatus(e);case 3:0===t.sent.data.resultCode&&n(m(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.setProfile(e);case 2:r=t.sent,n({type:"SET_USER_PROFILE",profile:r});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.savePhoto(e);case 2:0===(r=t.sent).data.resultCode&&n({type:"SAVE_PHOTOS_SUCCESS",photos:r.data.data.photos});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n,r){var o,c,u,l;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=r().auth.userId,t.next=3,i.b.saveProfile(e);case 3:if(0!==(c=t.sent).data.resultCode){t.next=8;break}n(g(o)),t.next=12;break;case 8:return u=function(e){var t={},n=e.slice(e.indexOf("->")+2,e.length-1).toLowerCase(),r=e;return t[n]=r,t},-1!=(l=c.data.messages.length>0?c.data.messages[0]:"Other error").indexOf("Contacts")?n(Object(s.a)("edit-profile",{contacts:u(l)})):n(Object(s.a)("edit-profile",{_error:l})),t.abrupt("return",Promise.reject());case 12:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return{postsData:[].concat(Object(u.a)(e.postsData),[{id:3,message:t.text,likesCount:0}]),newPostText:""};case"SET_USER_PROFILE":return f({},e,{profile:t.profile});case"SET_STATUS":return f({},e,{status:t.status});case"DELETED_POST":return f({},e,{postsData:Object(u.a)(e.postsData.filter(function(e){return e.id!=t.postId}))});case"SAVE_PHOTOS_SUCCESS":return f({},e,{profile:f({},e.profile,{photos:t.photos})});default:return e}}},95:function(e,t,n){"use strict";n.d(t,"b",function(){return i});var r=n(25),a=n(17);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach(function(t){Object(a.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u={dialogsData:[{id:1,name:"Efim"},{id:2,name:"Dima"},{id:3,name:"Timur"}],messagesData:[{id:1,message:"Hi!",come:"in"},{id:2,message:"Hi!, how are you?",come:"out"},{id:3,message:"How is your projects?",come:"out"},{id:4,message:"My projects is yo",come:"in"}],newMessageText:""},i=function(e){return{type:"ADD_MESSAGE",text:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":return c({},e,{messagesData:[].concat(Object(r.a)(e.messagesData),[{id:6,message:t.text}]),newMessageText:""});default:return e}}}},[[160,1,2]]]);
//# sourceMappingURL=main.d86e1f00.chunk.js.map